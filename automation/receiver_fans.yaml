- alias: Adjust receiver fans rear
  trigger:
    - platform: state
      entity_id: input_number.receiver_fan_speed_rear
  action:
    - service: mqtt.publish
      data:
        topic: 'hass/living_room/receiver/fan/rear'
        qos: 1
        retain: true
        payload_template: "{\"speed\": {{ states('input_number.receiver_fan_speed_rear') }}}"

- alias: Adjust receiver fans internal
  trigger:
    - platform: state
      entity_id: input_number.receiver_fan_speed_internal
  action:
    - service: mqtt.publish
      data:
        topic: 'hass/living_room/receiver/fan/internal'
        qos: 1
        retain: true
        payload_template: "{\"speed\": {{ states('input_number.receiver_fan_speed_internal') }}}"

- alias: Adjust receiver fans
  trigger:
    - platform: state
      entity_id: device_tracker.philips_tv
    - platform: state
      entity_id: sensor.cpu_temp
    - platform: state
      entity_id: sensor.receiver_temperature
  action:
    - service: python_script.update_receiver_fans
